{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container shadow p-2 mb-5 bg-white rounded">
  <h5 class="card-header">Check Server Status</h5>
  <div class="card-body">
  <form method="POST">
    <div class="input-group mb-3">
      <input type="url" id="url" name="url" class="form-control" placeholder="https://www.google.com" aria-describedby="button-addon2">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Check</button>
        </div>
    </div>
  </form>
    <ul class="list-group" style="width:auto">
      <a class="list-group-item list-group-item-action active">
        <div class="d-flex w-100 justify-content-between">
          <h6 class="mb-1">Website Response | {{ response[3] }}</h6>
        </div>
      </a>  
      <li class="list-group-item"><a class="font-weight-bold">Checked URL:</a> {{ response[0] }}</li>
      <li class="list-group-item"><a class="font-weight-bold">Response:</a> {{ response[2] }}</li>
      <li class="list-group-item"><a class="font-weight-bold">Response code:</a> {{ response[1] }}</li>
    </ul>
  </div>
</div>
<div class="container shadow p-2 mb-5 bg-white rounded">
    <h5 class="card-header">About</h5>
    <div class="card-body">
    </div>
</div>
{% endblock %}

{% block leftcol %}
<div class="container shadow p-2 mb-5 bg-white rounded">
    <h5 class="card-header">Recent checked Websites</h5>
    {% for t in test %}
    <div class="card-body">
        <div class="card" style="width: auto;">
            {% if t.response_code == '200' %}
            <div class="card-header bg-success text-center">
            {% else %}
            <div class="card-header bg-danger text-center">
            {% endif %}
              {{ t.website_url }} {% if t.response_code == '200'%} is Online! {% else %} is Offline! {% endif %}
            </div>
            <ul class="list-group list-group-horizontal-xl flex-fill mx-auto border-0">
                <li class="list-group-item border-0">Date: {{ t.check_date }}</li>
                <li class="list-group-item border-0">Code: {{ t.response_code }}</li>
                <li class="list-group-item border-0">Response: {{ t.response_message }}</li>
            </ul>
        </div>
    </div>
   {% endfor %}
</div>
{% endblock %}

